<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/public/templates/template.xhtml">

	<ui:define name="metadata" />

	<ui:define name="content">

		<h1 class="lead">Listar Exame Cardiologico</h1>
		<h:panelGroup layout="block" styleClass="form-group" id="Medidas">
			<h:panelGroup layout="block" styleClass="form-group">
						<p:outputLabel for="criterio_exame" value="Pesquisa" />
						<p:inputText id="criterio_exame" styleClass="form-control"
							value="#{manterCateterismoMB.criterio}" 
							placeholder="Pesquise aqui" />
					</h:panelGroup>

					<h:panelGroup layout="block" styleClass="form-group">

						<p:commandButton value="Busca" type="submit" action="#{manterExameCardiologicoMB.busca}"
							ajax="true" update="tableExameCardiologico" immediate="false" icon="ui-icon-search" />

						<p:commandButton value="Limpar filtro" type="submit" action="#{manterExameCardiologicoMB.clearTable}"
							ajax="true" update="tableExameCardiologico,criterio_exame"
							immediate="false" icon="ui-icon-refresh" />

					</h:panelGroup>
			
		<p:dataTable id="tableExameCardiologico" 
						selectionMode="single"
						emptyMessage="Nenhum Registro Encontrado." 
						var="exame"
						selection="#{manterExameCardiologicoMB.exame}"
						value="#{manterExameCardiologicoMB.listExameCardiologico}" 
						rowKey="#{exame.id}"
						reflow="true"
						 >
			<p:ajax event="rowSelect"  listener="#{manterExameCardiologicoMB.onRowSelect}" oncomplete="manterExameCardiologico"/>

		    <p:column headerText="Data Exame">
		        <h:outputText value="#{exame.dataExame}" />
		    </p:column>
		 
		    <p:column headerText="MÃ©dico">
		        <h:outputText value="#{exame.medico.nome}" />
		    </p:column>
		 
		    
		    <p:column headerText="Laudo (arquivo)">
		        <h:outputText value="#{exame.arquivoLaudo}" />
		    </p:column>
		    <p:column headerText="Nota">
		        <h:outputText value="#{exame.nota}" />
		    </p:column>
		   
		</p:dataTable>
		
		</h:panelGroup>		
		<br/>
		<p:commandButton value="Novo Exame" action="#{manterExameCardiologicoMB.novo}" icon="ui-icon-plus" ajax="true" />
		
	</ui:define>
</ui:composition>

						